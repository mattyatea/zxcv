import{g as V,r as c,i as z,m as p,B as T,b as g,w as y,T as x,W as $,o as l,c as u,l as m,a as n,a2 as S,z as D,q as X,H as v,t as Y}from"./CyjY5H8A.js";import{_ as j}from"./DlAUqK2U.js";const N={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},q={class:"flex min-h-screen items-center justify-center p-4 text-center sm:p-0"},H={key:0,class:"modal-header"},I={class:"text-xl font-semibold text-gray-900 dark:text-white"},U={class:"modal-body"},W={key:1,class:"modal-footer"},A=V({__name:"Modal",props:{modelValue:{type:Boolean},title:{},size:{default:"md"},showClose:{type:Boolean,default:!0},preventClose:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(b,{emit:k}){const s=b,_=k,o=c({x:0,y:0}),a=c(!1),r=c({x:0,y:0});z(()=>s.modelValue,e=>{e&&(o.value={x:0,y:0})});const C=p(()=>["modal-panel relative transform overflow-hidden rounded-2xl bg-white dark:bg-gray-900 text-left shadow-2xl",{sm:"sm:w-full sm:max-w-sm",md:"sm:w-full sm:max-w-lg",lg:"sm:w-full sm:max-w-2xl",xl:"sm:w-full sm:max-w-4xl",full:"sm:w-full sm:max-w-7xl"}[s.size],s.draggable&&"cursor-move select-none",a.value&&"transition-none"].filter(Boolean).join(" ")),B=p(()=>({transform:`translate(${o.value.x}px, ${o.value.y}px)`})),f=()=>{s.preventClose||_("update:modelValue",!1)},h=(e,t)=>{a.value=!0,r.value={x:e-o.value.x,y:t-o.value.y}},E=e=>{if(!s.draggable||e.target.closest("button"))return;h(e.clientX,e.clientY);const t=i=>{a.value&&(o.value={x:i.clientX-r.value.x,y:i.clientY-r.value.y})},d=()=>{a.value=!1,window.removeEventListener("mousemove",t),window.removeEventListener("mouseup",d)};window.addEventListener("mousemove",t),window.addEventListener("mouseup",d)},M=e=>{if(!s.draggable||e.target.closest("button"))return;const t=e.touches[0];h(t.clientX,t.clientY);const d=L=>{if(!a.value)return;const w=L.touches[0];o.value={x:w.clientX-r.value.x,y:w.clientY-r.value.y}},i=()=>{a.value=!1,window.removeEventListener("touchmove",d),window.removeEventListener("touchend",i)};window.addEventListener("touchmove",d,{passive:!1}),window.addEventListener("touchend",i)};return(e,t)=>(l(),T($,{to:"body"},[g(x,{name:"modal"},{default:y(()=>[e.modelValue?(l(),u("div",N,[n("div",q,[n("div",{class:"modal-backdrop fixed inset-0 bg-black/60 backdrop-blur-sm",onClick:f}),g(x,{name:"modal-content"},{default:y(()=>[e.modelValue?(l(),u("div",{key:0,class:X(C.value),onClick:t[0]||(t[0]=D(()=>{},["stop"])),onMousedown:E,onTouchstart:M,style:S(B.value)},[e.$slots.header||e.title?(l(),u("div",H,[v(e.$slots,"header",{},()=>[n("h3",I,Y(e.title),1)],!0),e.showClose?(l(),u("button",{key:0,onClick:f,class:"ml-auto rounded-lg p-1.5 text-gray-400 hover:bg-gray-100 hover:text-gray-900 dark:hover:bg-gray-700 dark:hover:text-white transition-all duration-200 hover:rotate-90"},t[1]||(t[1]=[n("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))):m("",!0)])):m("",!0),n("div",U,[v(e.$slots,"default",{},void 0,!0)]),e.$slots.footer?(l(),u("div",W,[v(e.$slots,"footer",{},void 0,!0)])):m("",!0)],38)):m("",!0)]),_:3})])])):m("",!0)]),_:3})]))}}),J=j(A,[["__scopeId","data-v-da0352a9"]]);export{J as _};
