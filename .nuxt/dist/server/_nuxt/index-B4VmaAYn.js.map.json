{"file":"index-B4VmaAYn.js","mappings":"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","names":["_ssrRenderAttrs","_mergeProps","$t","_push","_parent","_","_scopeId","_createBlock","_createVNode","_createTextVNode","_ssrRenderList","index","_ssrInterpolate","_toDisplayString","_openBlock","_Fragment","_renderList","_ssrRenderComponent","_ssrIncludeBooleanAttr"],"sources":["../../../../pages/rules/index.vue"],"sourcesContent":["<template>\n  <div class=\"min-h-screen bg-gray-50 dark:bg-gray-950\">\n    <div class=\"container-lg py-8\">\n      <!-- ヘッダー -->\n      <div class=\"flex items-center justify-between mb-8\">\n        <div class=\"stagger-item stagger-1\">\n          <h1 class=\"heading-1 mb-2\">{{ $t('rules.title') }}</h1>\n          <p class=\"text-gray-600 dark:text-gray-400\">\n            {{ $t('rules.subtitle') }}\n          </p>\n        </div>\n        <NuxtLink to=\"/rules/new\" class=\"stagger-item stagger-2\">\n          <CommonButton variant=\"primary\" class=\"hover-lift\">\n            <svg class=\"w-5 h-5 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v16m8-8H4\" />\n            </svg>\n            {{ $t('rules.createRule') }}\n          </CommonButton>\n        </NuxtLink>\n      </div>\n\n      <!-- 検索とフィルター -->\n      <div class=\"space-y-6 mb-8 stagger-item stagger-3\">\n        <div class=\"flex flex-col lg:flex-row gap-4 items-start lg:items-center\">\n          <div class=\"flex-1 relative group\">\n            <CommonInput\n              v-model=\"searchQuery\"\n              :placeholder=\"$t('rules.searchPlaceholder')\"\n              @input=\"debouncedSearch\"\n              class=\"transition-all duration-300 focus-within:scale-[1.02] focus-within:shadow-lg\"\n            >\n              <template #prefix>\n                <svg class=\"w-5 h-5 text-gray-400 group-focus-within:text-primary-500 transition-colors duration-200\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n                </svg>\n              </template>\n            </CommonInput>\n          </div>\n          <div class=\"flex flex-col sm:flex-row gap-3 w-full lg:w-auto\">\n            <CommonSelect\n              v-model=\"filters.visibility\"\n              @change=\"fetchRules\"\n              class=\"sm:min-w-[200px] transition-all duration-200 hover:shadow-md focus:scale-[1.02]\"\n            >\n              <option value=\"all\">{{ $t('rules.visibility.all') }}</option>\n              <option value=\"public\">{{ $t('rules.visibility.public') }}</option>\n              <option value=\"private\">{{ $t('rules.visibility.private') }}</option>\n              <option value=\"organization\">{{ $t('rules.visibility.organization') }}</option>\n            </CommonSelect>\n            <CommonSelect\n              v-model=\"filters.sort\"\n              @change=\"fetchRules\"\n              class=\"sm:min-w-[200px] transition-all duration-200 hover:shadow-md focus:scale-[1.02]\"\n            >\n              <option value=\"updated\">{{ $t('rules.sort.recentlyUpdated') }}</option>\n              <option value=\"created\">{{ $t('rules.sort.recentlyCreated') }}</option>\n              <option value=\"name\">{{ $t('rules.sort.alphabetical') }}</option>\n            </CommonSelect>\n          </div>\n        </div>\n\n        <!-- タグフィルター -->\n        <div v-if=\"popularTags.length > 0\" class=\"flex flex-wrap items-center gap-2 stagger-item stagger-4\">\n          <span class=\"text-sm text-gray-600 dark:text-gray-400\">{{ $t('rules.popularTags') }}</span>\n          <button\n            v-for=\"tag in popularTags\"\n            :key=\"tag\"\n            @click=\"toggleTag(tag)\"\n            :class=\"[\n              'px-3 py-1 rounded-full text-sm transition-colors',\n              selectedTags.includes(tag)\n                ? 'bg-primary-500 text-white hover:bg-primary-600'\n                : 'bg-gray-200 text-gray-700 dark:bg-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600'\n            ]\"\n          >\n            {{ tag }}\n          </button>\n        </div>\n      </div>\n\n      <!-- ローディング -->\n      <div v-if=\"loading\" class=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\">\n        <div v-for=\"i in 6\" :key=\"i\" class=\"card\">\n          <div class=\"skeleton h-6 w-3/4 mb-3\"></div>\n          <div class=\"skeleton h-4 w-1/2 mb-4\"></div>\n          <div class=\"skeleton h-4 w-full mb-2\"></div>\n          <div class=\"skeleton h-4 w-2/3\"></div>\n        </div>\n      </div>\n\n      <!-- ルール一覧 -->\n      <div v-else-if=\"rules.length > 0\" class=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 stagger-item stagger-5\">\n        <NuxtLink\n          v-for=\"(rule, index) in rules\"\n          :key=\"rule.id\"\n          :to=\"getRuleUrl(rule)\"\n          class=\"card-hover group transition-all duration-300 hover:scale-[1.02] hover:-translate-y-2 hover:shadow-2xl stagger-item\"\n          :class=\"`stagger-${Math.min(index + 6, 8)}`\"\n        >\n          <div class=\"flex items-start justify-between mb-3\">\n            <div class=\"flex-1 min-w-0\">\n              <h3 class=\"text-lg font-semibold text-gray-900 dark:text-gray-100 truncate group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors\">\n                {{ rule.name }}\n              </h3>\n              <p class=\"text-sm text-gray-600 dark:text-gray-400 mt-1\">\n                by {{ rule.organization ? '@' + rule.organization.name : rule.author.username }}\n              </p>\n            </div>\n            <span\n              :class=\"[\n                'ml-2 px-2 py-1 text-xs rounded-full',\n                rule.visibility === 'public' ? 'bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300' :\n                rule.visibility === 'private' ? 'bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300' :\n                'bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300'\n              ]\"\n            >\n              {{ $t(`rules.visibility.${rule.visibility}`) }}\n            </span>\n          </div>\n          \n          <p v-if=\"rule.description\" class=\"text-sm text-gray-600 dark:text-gray-400 line-clamp-2 mb-3\">\n            {{ rule.description }}\n          </p>\n          \n          <div v-if=\"rule.tags && rule.tags.length > 0\" class=\"flex flex-wrap gap-1 mb-4\">\n            <span\n              v-for=\"tag in rule.tags\"\n              :key=\"tag\"\n              class=\"px-2 py-1 text-xs bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300 rounded\"\n            >\n              {{ tag }}\n            </span>\n          </div>\n          \n          <div class=\"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400\">\n            <span>v{{ rule.version }}</span>\n            <span>{{ formatDate(rule.updated_at) }}</span>\n          </div>\n        </NuxtLink>\n      </div>\n\n      <!-- 空の状態 -->\n      <div v-else class=\"text-center py-12\">\n        <svg class=\"w-24 h-24 mx-auto text-gray-400 mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n        </svg>\n        <h3 class=\"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2\">\n          {{ $t('rules.noRulesFound') }}\n        </h3>\n        <p class=\"text-gray-600 dark:text-gray-400 mb-6\">\n          {{ $t('rules.createFirstRule') }}\n        </p>\n        <NuxtLink to=\"/rules/new\">\n          <CommonButton variant=\"primary\">\n            {{ $t('rules.createRule') }}\n          </CommonButton>\n        </NuxtLink>\n      </div>\n\n      <!-- ページネーション -->\n      <div v-if=\"totalPages > 1\" class=\"mt-8 flex justify-center\">\n        <nav class=\"flex items-center space-x-1\">\n          <button\n            @click=\"currentPage--\"\n            :disabled=\"currentPage === 1\"\n            class=\"px-3 py-2 rounded-lg text-sm font-medium text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n          >\n            <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 19l-7-7 7-7\" />\n            </svg>\n          </button>\n          \n          <button\n            v-for=\"page in visiblePages\"\n            :key=\"page\"\n            @click=\"currentPage = page\"\n            :class=\"[\n              'px-4 py-2 rounded-lg text-sm font-medium transition-colors',\n              page === currentPage\n                ? 'bg-primary-500 text-white'\n                : 'text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800'\n            ]\"\n          >\n            {{ page }}\n          </button>\n          \n          <button\n            @click=\"currentPage++\"\n            :disabled=\"currentPage === totalPages\"\n            class=\"px-3 py-2 rounded-lg text-sm font-medium text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n          >\n            <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5l7 7-7 7\" />\n            </svg>\n          </button>\n        </nav>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, onMounted, ref, watch } from \"vue\";\n\ninterface Author {\n\tid: string;\n\tusername: string;\n}\n\ninterface Organization {\n\tid: string;\n\tname: string;\n\tdisplayName: string;\n}\n\ninterface Rule {\n\tid: string;\n\tname: string;\n\tdescription?: string;\n\tvisibility: \"public\" | \"private\" | \"organization\";\n\tauthor: Author;\n\torganization?: Organization;\n\ttags: string[];\n\tversion: string;\n\tupdated_at: number;\n}\n\nconst { t } = useI18n();\n\nuseHead({\n\ttitle: t(\"rules.pageTitle\"),\n});\n\nconst searchQuery = ref(\"\");\nconst filters = ref({\n\tvisibility: \"all\",\n\tsort: \"updated\",\n});\nconst selectedTags = ref<string[]>([]);\nconst popularTags = ref([\"eslint\", \"prettier\", \"typescript\", \"react\", \"vue\", \"nuxt\", \"tailwind\"]);\n\nconst rules = ref<Rule[]>([]);\nconst loading = ref(false);\nconst currentPage = ref(1);\nconst limit = 12;\nconst total = ref(0);\n\nconst totalPages = computed(() => Math.ceil(total.value / limit));\nconst visiblePages = computed(() => {\n\tconst pages: number[] = [];\n\tconst start = Math.max(1, currentPage.value - 2);\n\tconst end = Math.min(totalPages.value, start + 4);\n\n\tfor (let i = start; i <= end; i++) {\n\t\tpages.push(i);\n\t}\n\n\treturn pages;\n});\n\nconst { $rpc } = useNuxtApp();\n\nconst fetchRules = async () => {\n\tloading.value = true;\n\n\ttry {\n\t\tconst response = await $rpc.rules.search({\n\t\t\tlimit,\n\t\t\tpage: currentPage.value,\n\t\t\tsortBy: filters.value.sort,\n\t\t\tvisibility: filters.value.visibility === \"all\" ? undefined : filters.value.visibility,\n\t\t\tquery: searchQuery.value || undefined,\n\t\t\ttags: selectedTags.value.length > 0 ? selectedTags.value : undefined,\n\t\t});\n\n\t\t// Ensure each rule has all required properties\n\t\trules.value = response.rules.map((rule) => ({\n\t\t\t...rule,\n\t\t\ttags: rule.tags || [],\n\t\t\tdescription: rule.description || \"\",\n\t\t}));\n\t\ttotal.value = response.total;\n\t} catch (error) {\n\t\tconsole.error(\"Failed to fetch rules:\", error);\n\t} finally {\n\t\tloading.value = false;\n\t}\n};\n\nconst toggleTag = (tag: string) => {\n\tconst index = selectedTags.value.indexOf(tag);\n\tif (index > -1) {\n\t\tselectedTags.value.splice(index, 1);\n\t} else {\n\t\tselectedTags.value.push(tag);\n\t}\n\tcurrentPage.value = 1;\n\tfetchRules();\n};\n\nconst { locale } = useI18n();\n\nconst formatDate = (timestamp: number) => {\n\treturn new Date(timestamp * 1000).toLocaleDateString(locale.value === \"ja\" ? \"ja-JP\" : \"en-US\");\n};\n\nconst getRuleUrl = (rule: Rule) => {\n\tif (rule.organization) {\n\t\treturn `/rules/@${rule.organization.name}/${rule.name}`;\n\t}\n\t// User rules\n\treturn `/rules/@${rule.author.username}/${rule.name}`;\n};\n\nlet searchTimeout: NodeJS.Timeout;\nconst debouncedSearch = () => {\n\tclearTimeout(searchTimeout);\n\tsearchTimeout = setTimeout(() => {\n\t\tcurrentPage.value = 1;\n\t\tfetchRules();\n\t}, 300);\n};\n\nwatch(currentPage, fetchRules);\n\nonMounted(() => {\n\tfetchRules();\n});\n</script>\n\n<style scoped>\n.line-clamp-2 {\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n</style>"],"version":3}