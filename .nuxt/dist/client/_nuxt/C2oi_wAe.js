import{_ as b}from"./9Izdmuga.js";import{_ as C}from"./oZfRzh-Q.js";import{u as z}from"./JGZA2kR1.js";import{u as M}from"./6jrzLyMP.js";import{g as $,u as B,r as p,G as j,h as O,j as S,c as n,a as t,b as d,t as s,w as l,F as h,p as _,o as a,d as c,B as N}from"./CyjY5H8A.js";import"./DlAUqK2U.js";import"./CLdyUvtB.js";const A={class:"min-h-screen bg-gray-50 dark:bg-gray-950"},H={class:"container-lg py-8"},V={class:"flex items-center justify-between mb-8"},D={class:"heading-1 mb-2"},F={class:"text-gray-600 dark:text-gray-400"},E={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},I={key:1,class:"text-center py-12"},T={class:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2"},L={class:"text-gray-600 dark:text-gray-400 mb-6"},G={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},R={class:"flex items-start justify-between mb-4"},U={class:"w-12 h-12 bg-primary-500 rounded-xl flex items-center justify-center text-white font-bold text-lg group-hover:scale-105 transition-transform"},q={class:"badge badge-primary"},J={class:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2"},K={class:"text-gray-600 dark:text-gray-400 text-sm mb-4"},P={class:"flex items-center justify-between text-sm"},Q={class:"flex items-center space-x-4"},W={class:"flex items-center text-gray-600 dark:text-gray-400"},X={class:"flex items-center text-gray-600 dark:text-gray-400"},nt=$({__name:"index",setup(Y){const{t:v}=B(),m=p(!1),u=p([]),f=M(),{user:x}=j(f),{error:y}=z(),{$rpc:k}=O(),w=async()=>{m.value=!0;try{const o=await k.organizations.list();u.value=o.map(e=>{var i;return{id:e.id,name:e.displayName||e.name,description:"",role:e.owner.id===((i=x.value)==null?void 0:i.id)?"owner":"member",memberCount:e.memberCount,ruleCount:e.ruleCount||0,createdAt:e.createdAt?new Date(e.createdAt*1e3).toISOString():new Date().toISOString()}})}catch(o){console.error("Failed to fetch organizations:",o),y(v("organizations.messages.fetchError"))}finally{m.value=!1}};return S(()=>{w()}),(o,e)=>{const i=b,g=C;return a(),n("div",A,[t("div",H,[t("div",V,[t("div",null,[t("h1",D,s(o.$t("organizations.title")),1),t("p",F,s(o.$t("organizations.subtitle")),1)]),d(g,{to:"/organizations/new"},{default:l(()=>[d(i,{variant:"primary"},{default:l(()=>[e[0]||(e[0]=t("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),c(" "+s(o.$t("organizations.createOrganization")),1)]),_:1,__:[0]})]),_:1})]),m.value?(a(),n("div",E,[(a(),n(h,null,_(6,r=>t("div",{key:r,class:"card"},e[1]||(e[1]=[t("div",{class:"skeleton h-6 w-3/4 mb-3"},null,-1),t("div",{class:"skeleton h-4 w-full mb-2"},null,-1),t("div",{class:"skeleton h-4 w-2/3"},null,-1)]))),64))])):u.value.length===0?(a(),n("div",I,[e[2]||(e[2]=t("svg",{class:"w-24 h-24 mx-auto text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),t("h3",T,s(o.$t("organizations.noOrganizations")),1),t("p",L,s(o.$t("organizations.createFirstOrganization")),1),d(g,{to:"/organizations/new"},{default:l(()=>[d(i,{variant:"primary"},{default:l(()=>[c(s(o.$t("organizations.createOrganization")),1)]),_:1})]),_:1})])):(a(),n("div",G,[(a(!0),n(h,null,_(u.value,r=>(a(),N(g,{key:r.id,to:`/organizations/${r.id}`,class:"card-hover group"},{default:l(()=>[t("div",R,[t("div",U,s(r.name[0].toUpperCase()),1),t("span",q,s(r.role),1)]),t("h3",J,s(r.name),1),t("p",K,s(r.description||o.$t("organizations.noDescription")),1),t("div",P,[t("div",Q,[t("span",W,[e[3]||(e[3]=t("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})],-1)),c(" "+s(r.memberCount)+" "+s(o.$t("organizations.members")),1)]),t("span",X,[e[4]||(e[4]=t("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),c(" "+s(r.ruleCount)+" "+s(o.$t("organizations.rules")),1)])])])]),_:2},1032,["to"]))),128))]))])])}}});export{nt as default};
