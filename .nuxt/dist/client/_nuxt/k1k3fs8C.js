import{_ as Q}from"./oZfRzh-Q.js";import{g as N,u as U,Z,r as _,m as H,i as A,j as G,D as P,c as s,o as a,a as e,b as l,z as T,t as i,q as S,T as C,w as o,l as M,F as B,p as L,f as w,G as D,_ as J,B as j,d as x,I as W,y as X,n as Y}from"./CyjY5H8A.js";import{_ as ee}from"./DlAUqK2U.js";import{_ as te}from"./9Izdmuga.js";import{_ as re}from"./CdYq105T.js";import{_ as ae}from"./BvTw6xzz.js";import{u as oe}from"./6jrzLyMP.js";const se={class:"relative"},ne=["aria-label"],le={class:"hidden sm:inline"},ie=["onClick"],de={key:0,class:"w-4 h-4 text-primary-600 dark:text-primary-400",fill:"currentColor",viewBox:"0 0 20 20"},ue=N({__name:"LanguageSwitcher",setup(I){const{locale:g,availableLocales:m,setLocale:p,initLocale:b}=U(),c=Z(),d=_(!1),k=_(!1),$=H(()=>{if(!m.value||!Array.isArray(m.value))return g.value||"ja";const n=m.value.find(u=>u.code===g.value);return(n==null?void 0:n.name)||g.value}),V=async n=>{p(n),c.setLanguage(n),localStorage.setItem("zxcv-language",n),d.value=!1};A(g,n=>{k.value&&n!==c.language&&c.setLanguage(n)}),A(()=>c.language,n=>{k.value&&n!==g.value&&p(n)});const f=n=>{n.target.closest(".relative")||(d.value=!1)};return G(()=>{document.addEventListener("click",f),b(c.language),k.value=!0}),P(()=>{document.removeEventListener("click",f)}),(n,u)=>(a(),s("div",se,[e("button",{onClick:u[0]||(u[0]=T(h=>d.value=!d.value,["stop"])),class:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-all duration-200 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 hover:scale-105 active:scale-95","aria-label":n.$t("accessibility.changeLanguage")},[u[3]||(u[3]=e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"})],-1)),e("span",le,i($.value),1),(a(),s("svg",{class:S(["w-4 h-4 transition-transform duration-300",{"rotate-180":d.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},u[2]||(u[2]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))],8,ne),l(C,{name:"dropdown"},{default:o(()=>[d.value?(a(),s("div",{key:0,onClick:u[1]||(u[1]=T(()=>{},["stop"])),class:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 dark:ring-white dark:ring-opacity-10 py-1 z-50"},[(a(!0),s(B,null,L(w(m),h=>(a(),s("button",{key:h.code,onClick:()=>V(h.code),class:S(["w-full px-4 py-2 text-sm text-left hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-200 flex items-center justify-between group hover:pl-5 active:scale-[0.98]",{"text-primary-600 dark:text-primary-400 font-medium bg-primary-50 dark:bg-primary-950/20":h.code===w(c).language,"text-gray-700 dark:text-gray-300":h.code!==w(c).language}])},[e("span",null,i(h.name),1),h.code===w(c).language?(a(),s("svg",de,u[4]||(u[4]=[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)]))):M("",!0)],10,ie))),128))])):M("",!0)]),_:1})]))}}),ve=ee(ue,[["__scopeId","data-v-2dafec0f"]]),ce={class:"sticky top-0 z-50 glass border-b border-gray-200 dark:border-gray-800 animate-slideInDown"},ge={class:"container-lg"},me={class:"flex items-center justify-between h-16"},pe={class:"flex items-center"},ye={class:"hidden md:ml-8 md:flex md:items-center md:space-x-1"},ke={class:"flex items-center space-x-2"},fe={key:"moon",class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},he={key:"sun",class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},xe={key:0,class:"flex items-center space-x-2"},we={class:"relative hidden md:block"},be={class:"p-3"},_e={class:"text-sm font-semibold text-gray-900 dark:text-gray-100 mb-2"},Ce={class:"space-y-1"},Me={class:"p-3"},$e={class:"relative"},ze={class:"w-8 h-8 rounded-full bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center text-white font-medium shadow-md group-hover:scale-110 group-hover:shadow-lg transition-all duration-200"},je={class:"px-4 py-3"},Be={class:"text-sm text-gray-600 dark:text-gray-400"},Le={class:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate"},Se={class:"py-1"},Ve={class:"py-1"},He={key:1,class:"flex items-center space-x-2"},Ae={key:0,class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Te={key:1,class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},De={key:0,class:"md:hidden border-t border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-900"},Ne={class:"px-4 py-2 space-y-1"},Fe=N({__name:"Header",setup(I){const g=oe(),{user:m}=D(g),p=_(!1),b=_(!1),c=_(!1),d=_(!1),k=_(""),$=J(),{isDark:V}=D($),{t:f}=U(),n=H(()=>{const v=[{name:f("nav.home"),href:"/"},{name:f("nav.rules"),href:"/rules"}];return m.value&&v.push({name:f("nav.organizations"),href:"/organizations"}),v}),u=H(()=>[{name:f("nav.profile"),href:g.user?`/profile/${g.user.username}`:"/profile",icon:"svg"},{name:f("nav.settings"),href:"/settings",icon:"svg"},{name:f("settings.apiKeys"),href:"/api-keys",icon:"svg"}]),h=()=>{$.toggleTheme()},R=async()=>{p.value=!1,await g.logout()},q=()=>{k.value&&(c.value=!1,Y(`/rules?q=${encodeURIComponent(k.value)}`),k.value="")};return(v,t)=>{const y=Q,E=ve,z=te,K=re,O=ae;return a(),s("header",ce,[e("div",ge,[e("div",me,[e("div",pe,[l(y,{to:"/",class:"flex items-center group"},{default:o(()=>t[13]||(t[13]=[e("div",{class:"flex items-center space-x-2"},[e("div",{class:"w-10 h-10 bg-primary-500 rounded-xl flex items-center justify-center group-hover:bg-primary-600 transition-all duration-300 group-hover:rotate-12 group-hover:scale-110 transform"},[e("span",{class:"text-white font-bold text-lg"},"Z")]),e("span",{class:"text-2xl font-bold text-gray-900 dark:text-gray-100 hidden sm:block transition-all duration-300 group-hover:translate-x-1"}," zxcv ")],-1)])),_:1,__:[13]}),e("nav",ye,[(a(!0),s(B,null,L(n.value,r=>(a(),j(y,{key:r.name,to:r.href,class:"nav-link px-4 py-2 rounded-lg text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 transition-all duration-300 ease-out relative overflow-hidden group","active-class":"bg-primary-500/10 text-primary-600 dark:text-primary-400 font-semibold"},{default:o(()=>[x(i(r.name),1)]),_:2},1032,["to"]))),128))])]),e("div",ke,[e("button",{onClick:t[0]||(t[0]=r=>c.value=!0),class:"nav-button p-2.5 rounded-xl text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 transition-all duration-300 ease-out relative overflow-hidden group"},t[14]||(t[14]=[e("svg",{class:"w-5 h-5 transform transition-all duration-300 group-hover:scale-110 group-hover:rotate-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)])),e("button",{onClick:h,class:"nav-button p-2.5 rounded-xl text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 transition-all duration-300 ease-out relative overflow-hidden group"},[l(C,{"enter-active-class":"transition-all duration-500 ease-out","enter-from-class":"opacity-0 rotate-180 scale-50","enter-to-class":"opacity-100 rotate-0 scale-100","leave-active-class":"transition-all duration-500 ease-out","leave-from-class":"opacity-100 rotate-0 scale-100","leave-to-class":"opacity-0 rotate-180 scale-50"},{default:o(()=>[w(V)?(a(),s("svg",he,t[16]||(t[16]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1)]))):(a(),s("svg",fe,t[15]||(t[15]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1)])))]),_:1})]),l(E),w(m)?(a(),s("div",xe,[e("div",we,[e("button",{onClick:t[1]||(t[1]=r=>d.value=!d.value),class:"nav-button flex items-center space-x-1 px-3 py-2 rounded-xl text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 transition-all duration-300 ease-out relative overflow-hidden group"},[t[18]||(t[18]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})],-1)),e("span",null,i(v.$t("nav.myRules")),1),(a(),s("svg",{class:S(["w-3 h-3 transition-transform duration-300 ease-out",d.value?"rotate-180":""]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},t[17]||(t[17]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),l(C,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"transform opacity-0 scale-95 -translate-y-4","enter-to-class":"transform opacity-100 scale-100 translate-y-0","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"transform opacity-100 scale-100 translate-y-0","leave-to-class":"transform opacity-0 scale-95 -translate-y-4"},{default:o(()=>[d.value?(a(),s("div",{key:0,onClick:t[5]||(t[5]=r=>d.value=!1),class:"absolute right-0 mt-2 w-72 rounded-xl bg-white dark:bg-gray-900 shadow-lg border border-gray-200 dark:border-gray-800 divide-y divide-gray-200 dark:divide-gray-800 z-50"},[e("div",be,[e("h3",_e,i(v.$t("nav.quickAccess")),1),e("div",Ce,[l(y,{to:`/rules?author=${w(m).username}`,onClick:t[2]||(t[2]=r=>d.value=!1),class:"flex items-center px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-primary-50 dark:hover:bg-primary-950/20 hover:text-primary-600 dark:hover:text-primary-400 rounded-lg transition-colors"},{default:o(()=>[t[19]||(t[19]=e("svg",{class:"w-4 h-4 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)),x(" "+i(v.$t("rules.myRules")),1)]),_:1,__:[19]},8,["to"]),l(y,{to:"/organizations",onClick:t[3]||(t[3]=r=>d.value=!1),class:"flex items-center px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-accent-50 dark:hover:bg-accent-950/20 hover:text-accent-600 dark:hover:text-accent-400 rounded-lg transition-colors"},{default:o(()=>[t[20]||(t[20]=e("svg",{class:"w-4 h-4 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),x(" "+i(v.$t("nav.myOrganizations")),1)]),_:1,__:[20]})])]),e("div",Me,[l(y,{to:"/rules/new",onClick:t[4]||(t[4]=r=>d.value=!1)},{default:o(()=>[l(z,{size:"sm",variant:"primary",class:"w-full justify-center hover-lift"},{default:o(()=>[t[21]||(t[21]=e("svg",{class:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),x(" "+i(v.$t("rules.createRule")),1)]),_:1,__:[21]})]),_:1})])])):M("",!0)]),_:1})]),l(y,{to:"/rules/new",class:"md:hidden"},{default:o(()=>[l(z,{size:"sm",variant:"primary",class:"hover-lift",icon:""},{default:o(()=>t[22]||(t[22]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)])),_:1,__:[22]})]),_:1}),e("div",$e,[e("button",{onClick:t[6]||(t[6]=r=>p.value=!p.value),class:"flex items-center space-x-2 p-2 rounded-xl hover:bg-primary-50 dark:hover:bg-primary-950/20 transition-all duration-200 group active:scale-95"},[e("div",ze,i(w(m).username[0].toUpperCase()),1),(a(),s("svg",{class:S(["w-4 h-4 text-gray-600 dark:text-gray-400 transition-transform duration-200",p.value?"rotate-180":""]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},t[23]||(t[23]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),l(C,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:o(()=>[p.value?(a(),s("div",{key:0,onClick:t[8]||(t[8]=r=>p.value=!1),class:"absolute right-0 mt-2 w-56 rounded-xl bg-white dark:bg-gray-900 shadow-lg border border-gray-200 dark:border-gray-800 divide-y divide-gray-200 dark:divide-gray-800 animate-in"},[e("div",je,[e("p",Be,i(v.$t("auth.login.loggingIn")),1),e("p",Le,i(w(m).email),1)]),e("div",Se,[(a(!0),s(B,null,L(u.value,r=>(a(),j(y,{key:r.name,to:r.href,onClick:t[7]||(t[7]=F=>p.value=!1),class:"flex items-center px-4 py-2 text-sm text-gray-900 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors"},{default:o(()=>[(a(),j(W(r.icon),{class:"w-4 h-4 mr-3 text-gray-600 dark:text-gray-400"})),x(" "+i(r.name),1)]),_:2},1032,["to"]))),128))]),e("div",Ve,[e("button",{onClick:R,class:"flex items-center w-full px-4 py-2 text-sm text-gray-900 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors"},[t[24]||(t[24]=e("svg",{class:"w-4 h-4 mr-3 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1)),x(" "+i(v.$t("nav.logout")),1)])])])):M("",!0)]),_:1})])])):(a(),s("div",He,[l(y,{to:"/login"},{default:o(()=>[l(z,{variant:"ghost",size:"sm"},{default:o(()=>[x(i(v.$t("nav.login")),1)]),_:1})]),_:1}),l(y,{to:"/register"},{default:o(()=>[l(z,{variant:"primary",size:"sm"},{default:o(()=>[x(i(v.$t("nav.register")),1)]),_:1})]),_:1})])),e("button",{onClick:t[9]||(t[9]=r=>b.value=!b.value),class:"md:hidden p-2 rounded-lg text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-800 transition-all duration-200"},[b.value?(a(),s("svg",Te,t[26]||(t[26]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1)]))):(a(),s("svg",Ae,t[25]||(t[25]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,-1)])))])])])]),l(C,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 -translate-y-1","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-1"},{default:o(()=>[b.value?(a(),s("div",De,[e("nav",Ne,[(a(!0),s(B,null,L(n.value,r=>(a(),j(y,{key:r.name,to:r.href,onClick:t[10]||(t[10]=F=>b.value=!1),class:"block px-3 py-2 rounded-lg text-base font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors","active-class":"bg-primary-500/10 text-primary-600 dark:text-primary-400 font-semibold"},{default:o(()=>[x(i(r.name),1)]),_:2},1032,["to"]))),128))])])):M("",!0)]),_:1}),l(O,{modelValue:c.value,"onUpdate:modelValue":t[12]||(t[12]=r=>c.value=r),title:v.$t("common.search"),size:"lg"},{default:o(()=>[l(K,{modelValue:k.value,"onUpdate:modelValue":t[11]||(t[11]=r=>k.value=r),placeholder:v.$t("rules.searchPlaceholder"),onKeyup:X(q,["enter"])},{prefix:o(()=>t[27]||(t[27]=[e("svg",{class:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)])),_:1},8,["modelValue","placeholder"])]),_:1},8,["modelValue","title"])])}}});export{Fe as _};
