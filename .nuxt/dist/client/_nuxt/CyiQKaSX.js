import{_ as A}from"./9Izdmuga.js";import{_ as E}from"./oZfRzh-Q.js";import{_ as J}from"./CdYq105T.js";import{_ as O}from"./F5QlscLF.js";import{g as Q,u as z,r as n,m as T,h as G,i as K,j as W,c as l,a as t,l as x,b as g,t as o,w as d,F as p,p as y,o as r,d as N,q as _,B as X}from"./CyjY5H8A.js";import{u as Y}from"./BFNUtisj.js";import{_ as Z}from"./DlAUqK2U.js";const tt={class:"min-h-screen bg-gray-50 dark:bg-gray-950"},et={class:"container-lg py-8"},st={class:"flex items-center justify-between mb-8"},at={class:"stagger-item stagger-1"},ot={class:"heading-1 mb-2"},rt={class:"text-gray-600 dark:text-gray-400"},lt={class:"space-y-6 mb-8 stagger-item stagger-3"},it={class:"flex flex-col lg:flex-row gap-4 items-start lg:items-center"},nt={class:"flex-1 relative group"},dt={class:"flex flex-col sm:flex-row gap-3 w-full lg:w-auto"},ut={value:"all"},ct={value:"public"},gt={value:"private"},mt={value:"organization"},vt={value:"updated"},pt={value:"created"},yt={value:"name"},ht={key:0,class:"flex flex-wrap items-center gap-2 stagger-item stagger-4"},xt={class:"text-sm text-gray-600 dark:text-gray-400"},_t=["onClick"],bt={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"},ft={key:1,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 stagger-item stagger-5"},kt={class:"flex items-start justify-between mb-3"},wt={class:"flex-1 min-w-0"},$t={class:"text-lg font-semibold text-gray-900 dark:text-gray-100 truncate group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors"},Ct={class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},Vt={key:0,class:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2 mb-3"},jt={key:1,class:"flex flex-wrap gap-1 mb-4"},Bt={class:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400"},Mt={key:2,class:"text-center py-12"},zt={class:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2"},Tt={class:"text-gray-600 dark:text-gray-400 mb-6"},Nt={key:3,class:"mt-8 flex justify-center"},Rt={class:"flex items-center space-x-1"},Ut=["disabled"],Ft=["onClick"],Pt=["disabled"],R=12,St=Q({__name:"index",setup(Dt){const{t:U}=z();Y({title:U("rules.pageTitle")});const b=n(""),u=n({visibility:"all",sort:"updated"}),m=n([]),C=n(["eslint","prettier","typescript","react","vue","nuxt","tailwind"]),f=n([]),k=n(!1),i=n(1),V=n(0),w=T(()=>Math.ceil(V.value/R)),F=T(()=>{const s=[],a=Math.max(1,i.value-2),h=Math.min(w.value,a+4);for(let c=a;c<=h;c++)s.push(c);return s}),{$rpc:P}=G(),v=async()=>{k.value=!0;try{const s=await P.rules.search({limit:R,page:i.value,sortBy:u.value.sort,visibility:u.value.visibility==="all"?void 0:u.value.visibility,query:b.value||void 0,tags:m.value.length>0?m.value:void 0});f.value=s.rules.map(a=>({...a,tags:a.tags||[],description:a.description||""})),V.value=s.total}catch(s){console.error("Failed to fetch rules:",s)}finally{k.value=!1}},S=s=>{const a=m.value.indexOf(s);a>-1?m.value.splice(a,1):m.value.push(s),i.value=1,v()},{locale:D}=z(),I=s=>new Date(s*1e3).toLocaleDateString(D.value==="ja"?"ja-JP":"en-US"),H=s=>s.organization?`/rules/@${s.organization.name}/${s.name}`:`/rules/@${s.author.username}/${s.name}`;let j;const L=()=>{clearTimeout(j),j=setTimeout(()=>{i.value=1,v()},300)};return K(i,v),W(()=>{v()}),(s,a)=>{const h=A,c=E,q=J,B=O;return r(),l("div",tt,[t("div",et,[t("div",st,[t("div",at,[t("h1",ot,o(s.$t("rules.title")),1),t("p",rt,o(s.$t("rules.subtitle")),1)]),g(c,{to:"/rules/new",class:"stagger-item stagger-2"},{default:d(()=>[g(h,{variant:"primary",class:"hover-lift"},{default:d(()=>[a[5]||(a[5]=t("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),N(" "+o(s.$t("rules.createRule")),1)]),_:1,__:[5]})]),_:1})]),t("div",lt,[t("div",it,[t("div",nt,[g(q,{modelValue:b.value,"onUpdate:modelValue":a[0]||(a[0]=e=>b.value=e),placeholder:s.$t("rules.searchPlaceholder"),onInput:L,class:"transition-all duration-300 focus-within:scale-[1.02] focus-within:shadow-lg"},{prefix:d(()=>a[6]||(a[6]=[t("svg",{class:"w-5 h-5 text-gray-400 group-focus-within:text-primary-500 transition-colors duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)])),_:1},8,["modelValue","placeholder"])]),t("div",dt,[g(B,{modelValue:u.value.visibility,"onUpdate:modelValue":a[1]||(a[1]=e=>u.value.visibility=e),onChange:v,class:"sm:min-w-[200px] transition-all duration-200 hover:shadow-md focus:scale-[1.02]"},{default:d(()=>[t("option",ut,o(s.$t("rules.visibility.all")),1),t("option",ct,o(s.$t("rules.visibility.public")),1),t("option",gt,o(s.$t("rules.visibility.private")),1),t("option",mt,o(s.$t("rules.visibility.organization")),1)]),_:1},8,["modelValue"]),g(B,{modelValue:u.value.sort,"onUpdate:modelValue":a[2]||(a[2]=e=>u.value.sort=e),onChange:v,class:"sm:min-w-[200px] transition-all duration-200 hover:shadow-md focus:scale-[1.02]"},{default:d(()=>[t("option",vt,o(s.$t("rules.sort.recentlyUpdated")),1),t("option",pt,o(s.$t("rules.sort.recentlyCreated")),1),t("option",yt,o(s.$t("rules.sort.alphabetical")),1)]),_:1},8,["modelValue"])])]),C.value.length>0?(r(),l("div",ht,[t("span",xt,o(s.$t("rules.popularTags")),1),(r(!0),l(p,null,y(C.value,e=>(r(),l("button",{key:e,onClick:$=>S(e),class:_(["px-3 py-1 rounded-full text-sm transition-colors",m.value.includes(e)?"bg-primary-500 text-white hover:bg-primary-600":"bg-gray-200 text-gray-700 dark:bg-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"])},o(e),11,_t))),128))])):x("",!0)]),k.value?(r(),l("div",bt,[(r(),l(p,null,y(6,e=>t("div",{key:e,class:"card"},a[7]||(a[7]=[t("div",{class:"skeleton h-6 w-3/4 mb-3"},null,-1),t("div",{class:"skeleton h-4 w-1/2 mb-4"},null,-1),t("div",{class:"skeleton h-4 w-full mb-2"},null,-1),t("div",{class:"skeleton h-4 w-2/3"},null,-1)]))),64))])):f.value.length>0?(r(),l("div",ft,[(r(!0),l(p,null,y(f.value,(e,$)=>(r(),X(c,{key:e.id,to:H(e),class:_(["card-hover group transition-all duration-300 hover:scale-[1.02] hover:-translate-y-2 hover:shadow-2xl stagger-item",`stagger-${Math.min($+6,8)}`])},{default:d(()=>[t("div",kt,[t("div",wt,[t("h3",$t,o(e.name),1),t("p",Ct," by "+o(e.organization?"@"+e.organization.name:e.author.username),1)]),t("span",{class:_(["ml-2 px-2 py-1 text-xs rounded-full",e.visibility==="public"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":e.visibility==="private"?"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300":"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300"])},o(s.$t(`rules.visibility.${e.visibility}`)),3)]),e.description?(r(),l("p",Vt,o(e.description),1)):x("",!0),e.tags&&e.tags.length>0?(r(),l("div",jt,[(r(!0),l(p,null,y(e.tags,M=>(r(),l("span",{key:M,class:"px-2 py-1 text-xs bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300 rounded"},o(M),1))),128))])):x("",!0),t("div",Bt,[t("span",null,"v"+o(e.version),1),t("span",null,o(I(e.updated_at)),1)])]),_:2},1032,["to","class"]))),128))])):(r(),l("div",Mt,[a[8]||(a[8]=t("svg",{class:"w-24 h-24 mx-auto text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),t("h3",zt,o(s.$t("rules.noRulesFound")),1),t("p",Tt,o(s.$t("rules.createFirstRule")),1),g(c,{to:"/rules/new"},{default:d(()=>[g(h,{variant:"primary"},{default:d(()=>[N(o(s.$t("rules.createRule")),1)]),_:1})]),_:1})])),w.value>1?(r(),l("div",Nt,[t("nav",Rt,[t("button",{onClick:a[3]||(a[3]=e=>i.value--),disabled:i.value===1,class:"px-3 py-2 rounded-lg text-sm font-medium text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},a[9]||(a[9]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)]),8,Ut),(r(!0),l(p,null,y(F.value,e=>(r(),l("button",{key:e,onClick:$=>i.value=e,class:_(["px-4 py-2 rounded-lg text-sm font-medium transition-colors",e===i.value?"bg-primary-500 text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800"])},o(e),11,Ft))),128)),t("button",{onClick:a[4]||(a[4]=e=>i.value++),disabled:i.value===w.value,class:"px-3 py-2 rounded-lg text-sm font-medium text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},a[10]||(a[10]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]),8,Pt)])])):x("",!0)])])}}}),Ot=Z(St,[["__scopeId","data-v-c12630cc"]]);export{Ot as default};
